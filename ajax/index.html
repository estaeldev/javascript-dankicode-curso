<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <style>
        .description {
            display: none;
        }

        .container p:hover {
            cursor: pointer;
        }

    </style>

    <body>

        <div class="container">

        </div>
        
    </body>

    <script>

        /*
        const request = new XMLHttpRequest()
        request.open('GET','https://jsonplaceholder.typicode.com/todos/1', true)

        request.onload = () => {
            if(this.status >= 200 && this.status < 400) {
                const data = JSON.parse(this.Response)
                console.log(data);
            } else {

            }
        }

        request.onerror = () => {

        }

        request.send()
        console.log('teste');
        */

        /*
        const objDankiCode = {
            title: 'Danki Code',
            body: 'Meu Conteudo',
            userId: 10
        }

        fetch('https://jsonplaceholder.typicode.com/posts', {method: 'POST', 
                                                            body: JSON.stringify(objDankiCode), 
                                                            headers: {'Content-Type': 'application/json; charset=UTF-8'}})
            .then(response => response.json())
            .then(json => console.log(json))
        */

        fetch('https://api.themoviedb.org/3/movie/popular?api_key=506fadb0256c13349acc05dabebf9604&language=en-US&page=1')
            .then(response => response.json())
            .then(json => {
                const container = document.querySelector('.container')
                json.results.map((filme) => {
                    container.innerHTML += `
                        <p>${filme.title}</p>
                        <div class="description">${filme.overview}</div>
                        <hr/> 
                    `
                })
                const titulos = document.querySelectorAll('.container p')
                titulos.forEach((value, index) => {
                    value.addEventListener('click', () => {
                        const div = document.querySelectorAll('.container div')[index]
                        if(div.classList.contains('description')) {
                            div.classList.remove('description')
                        } else {
                            div.classList.add('description')
                        }
                    })
                })

                
            })

    </script>


</html>